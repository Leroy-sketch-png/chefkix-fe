# Visual Guide: Chat Post Sharing

## ğŸ¨ UI Components Overview

### 1. Share Button (Post Card / Detail Page)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Post Card                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ [Post Image]                â”‚   â”‚
â”‚  â”‚ Recipe Title                â”‚   â”‚
â”‚  â”‚ @username â€¢ 2h ago          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â¤ï¸ 234  ğŸ’¬ 12  ğŸ“¤ Share  ğŸ”– Save â”‚  â† Click here
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. Share Modal

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Share Post                             [Ã—] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚ [Thumb] Recipe Title                 â”‚  â”‚ â† Post Preview
â”‚ â”‚         Description snippet...       â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [ğŸ” Search conversations...]              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚ [ğŸ‘¤] Mike Chen           [âœ“]         â”‚  â”‚ â† Selectable
â”‚ â”‚      Direct message                  â”‚  â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚ â”‚ [ğŸ‘¥] Cooking Squad       [ ]         â”‚  â”‚
â”‚ â”‚      Group chat                      â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [Add a message (optional)...]             â”‚
â”‚ Leave empty to use auto-generated caption â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 2 selected              [ğŸ“¤ Share]        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3. Chat Message (POST_SHARE Type)

#### Sent Message (Right-aligned)

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ [ğŸ–¼ï¸]  ğŸ“¤ SHARED POST        â”‚
                    â”‚ Thumb  Chocolate Cake       â”‚
                    â”‚        Check out this       â”‚
                    â”‚        amazing recipe!      â”‚
                    â”‚        Tap to view post     â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                       3:45 PM âœ“âœ“
```

#### Received Message (Left-aligned)

```
[ğŸ‘¤]
Mike  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
Chen  â”‚ [ğŸ–¼ï¸]  ğŸ“¤ SHARED POST        â”‚
      â”‚ Thumb  Thai Green Curry     â”‚
      â”‚        Post shared: Thai... â”‚
      â”‚        Tap to view post     â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      3:46 PM
```

### 4. Hover Effect

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [ğŸ–¼ï¸]  ğŸ“¤ SHARED POST            â”‚  â† Scale(1.02)
â”‚ Thumb  Recipe Title             â”‚  â† Shadow-lg
â”‚        Message text...          â”‚  â† Cursor: pointer
â”‚        Tap to view post         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      (Clickable Link)
```

### 5. Click â†’ Navigate

```
Click on card
     â†“
Navigate to: /post/[postId]
     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Post Detail Page                   â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚ [Full Post Image]            â”‚  â”‚
â”‚ â”‚ Recipe Title                 â”‚  â”‚
â”‚ â”‚ @username â€¢ 2h ago           â”‚  â”‚
â”‚ â”‚                              â”‚  â”‚
â”‚ â”‚ Full content...              â”‚  â”‚
â”‚ â”‚                              â”‚  â”‚
â”‚ â”‚ ğŸ’¬ Comments                  â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ¬ User Flow Animation

### Sharing Flow

```
1. User on Feed/Discover
   â†“
2. Clicks "Share" on post
   â†“
3. SharePostModal opens
   â†“
4. Selects conversations (checkboxes)
   â†“
5. Optionally adds custom message
   â†“
6. Clicks "Share" button
   â†“
7. Loading spinner appears
   â†“
8. Backend processes:
   - Validates post
   - Fetches snapshot
   - Caches thumbnail + title
   - Broadcasts via WebSocket
   â†“
9. Success toast: "Post shared to 2 conversations! ğŸ‰"
   â†“
10. Modal closes automatically
```

### Receiving Flow

```
1. User in Messages page
   â†“
2. WebSocket delivers new message
   â†“
3. Real-time message appears (no refresh needed)
   â†“
4. Preview card shows:
   - Thumbnail image
   - Recipe title
   - "SHARED POST" badge
   - Message caption
   â†“
5. User clicks card
   â†“
6. Navigates to /post/[postId]
   â†“
7. Full post detail loads
```

## ğŸ¨ Design Tokens

### POST_SHARE Card Styling

```css
/* Base Card */
.post-share-card {
	max-width:
		320px (mobile),
		384px (desktop);
	border-radius: 16px;
	overflow: hidden;
	border: 1px solid;
	transition: all 200ms;
}

/* Own Message (Right) */
.own {
	background: primary/10;
	border-color: primary/30;
	border-bottom-right-radius: 4px; /* Tail */
}

/* Received Message (Left) */
.received {
	background: bg-elevated;
	border-color: border-subtle;
	border-bottom-left-radius: 4px; /* Tail */
}

/* Hover State */
.post-share-card:hover {
	transform: scale(1.02);
	box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
}

/* Thumbnail */
.thumbnail {
	width: 64px;
	height: 64px;
	border-radius: 8px;
	object-fit: cover;
	flex-shrink: 0;
}

/* Badge */
.badge {
	font-size: 10px;
	font-weight: 600;
	text-transform: uppercase;
	letter-spacing: 0.5px;
	display: flex;
	align-items: center;
	gap: 4px;
}

/* Title */
.title {
	font-size: 12px;
	font-weight: 700;
	line-clamp: 1;
}

/* Content */
.content {
	font-size: 14px;
	line-height: 1.5;
	line-clamp: 2;
}

/* Footer */
.footer {
	font-size: 12px;
	opacity: 0.7;
	margin-top: 4px;
}
```

## ğŸ“± Responsive Behavior

### Mobile (< 768px)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Messages        â”‚
â”‚ [ğŸ” Search]     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [ğŸ‘¤] Mike Chen  â”‚ â† Conversation List
â”‚ [ğŸ‘¥] Squad      â”‚   (Full screen)
â”‚ [ğŸ‘¤] Sarah      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Tap conversation â†“

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â† Mike Chen  ğŸŸ¢ â”‚ â† Chat Area
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   (Full screen)
â”‚                 â”‚
â”‚ [POST_SHARE]    â”‚
â”‚                 â”‚
â”‚                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [Type message...â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Desktop (â‰¥ 768px)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Messages    â”‚ Mike Chen  ğŸŸ¢            â”‚
â”‚ [ğŸ” Search] â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                          â”‚
â”‚ [ğŸ‘¤] Mike   â”‚  [POST_SHARE]            â”‚
â”‚ [ğŸ‘¥] Squad  â”‚                          â”‚
â”‚ [ğŸ‘¤] Sarah  â”‚  [POST_SHARE]            â”‚
â”‚             â”‚                          â”‚
â”‚             â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚             â”‚ [Type message...]        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  320px          Remaining space
  (Sidebar)      (Chat area)
```

## ğŸ¯ Interactive States

### POST_SHARE Card States

```
1. Default
   â””â”€â†’ Border: subtle
       Shadow: none
       Scale: 1

2. Hover
   â””â”€â†’ Border: same
       Shadow: large
       Scale: 1.02
       Cursor: pointer

3. Active (Click)
   â””â”€â†’ Scale: 0.98
       Opacity: 0.9

4. Navigation
   â””â”€â†’ Next.js route transition
       Loading indicator
       Page load
```

## ğŸ” Debug Indicators

### Console Logs to Look For

```javascript
// On share action
[SharePost] Sending POST_SHARE request: {
  conversationId: "conv-123",
  postId: "post-456",
  hasCustomMessage: true
}

// Backend response
[SharePost] Backend cached snapshot: {
  hasImage: true,
  hasTitle: true,
  messagePreview: "Post shared: Recipe Title"
}

// WebSocket delivery
[WebSocket] POST_SHARE received: {
  id: "msg-789",
  type: "POST_SHARE",
  relatedId: "post-456",
  hasImage: true,
  hasTitle: true,
  image: "https://...",
  title: "Recipe Title"
}
```

## ğŸ Visual Polish Details

### Micro-interactions

- **Card Hover**: Smooth scale + shadow transition (200ms)
- **Badge Icon**: Share icon with primary color
- **Image Loading**: Placeholder â†’ fade in when loaded
- **Click Feedback**: Quick scale down (0.98) before navigation
- **Toast Notification**: Slide in from top with success color

### Accessibility

- **Alt Text**: "Shared post" for images
- **ARIA Label**: "View shared post: [Recipe Title]"
- **Keyboard Nav**: Focusable link with outline
- **Screen Reader**: Announces type, title, and action

### Error Handling

```
No Thumbnail Available
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [ğŸ“„]  ğŸ“¤ SHARED POST             â”‚
â”‚ Gray  Recipe Title               â”‚
â”‚       Message text...            â”‚
â”‚       Tap to view post           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    (Placeholder icon)
```

---

**Note**: All colors, spacing, and animations follow the design system defined in `DESIGN_SYSTEM.md` and use Tailwind CSS utility classes for consistency.
